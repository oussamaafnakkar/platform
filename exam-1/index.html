<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุงูุชูููู ุงูุฃูู | ุฃุฎูุงููุงุช ูููุฉ ุงูุชุนููู</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ  SCREEN 1 โ STUDENT INFO    โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="s-info" class="scr on">
  <div class="bar">
    <div class="bar-brand">
      <div class="bar-dot"></div>
      ุงููุฏุฑุณุฉ ุงูุนููุง ููุชุฑุจูุฉ ูุงูุชูููู
    </div>
    <div class="bar-right">
      <a href="../index.html" class="btn btn-ghost btn-sm">๐ ุงูุฑุฆูุณูุฉ</a>
      <button class="btn btn-ghost btn-sm" onclick="goTo('s-pass')">๐ ุงูุฃุณุชุงุฐ</button>
    </div>
  </div>

  <div class="hero">
    <div class="hero-eyebrow" id="hero-eyebrow">ุงูุชูููู ุงูุฃูู</div>
    <h1 id="hero-title">ุฃุฎูุงููุงุช ูููุฉ ุงูุชุนููู</h1>
    <p>ุฃุฌุจ ุนูู ุงูุฃุณุฆูุฉ ูุงุญุตู ุนูู ูุชูุฌุชู ูุชุตุญูุญูุง ููุฑุงู</p>
    <div class="hero-pills">
      <span class="hero-pill">๐ 20 ุณุคุงูุงู</span>
      <span class="hero-pill">โก ุชุตุญูุญ ููุฑู</span>
      <span class="hero-pill">๐ 4 ุฃููุงุน ุฃุณุฆูุฉ</span>
      <span class="hero-pill">โ๏ธ ููุฑุณูู ูู Google Sheets</span>
    </div>
  </div>

  <div class="form-wrap">
    <div class="card">
      <div class="card-head">
        <div class="card-head-icon">๐</div>
        <div>
          <h2>ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</h2>
          <p>ููุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุจุฏูุฉ ูุจู ุจุฏุก ุงูุงุฎุชุจุงุฑ</p>
        </div>
      </div>
      <div class="card-body">
        <div class="fgrid">
          <div class="fgroup">
            <label class="flabel"><span class="flabel-icon">๐ค</span>ุงูุงุณู ุงูุดุฎุตู</label>
            <input class="finput" id="fi-first" type="text" placeholder="ูุญูุฏ">
          </div>
          <div class="fgroup">
            <label class="flabel"><span class="flabel-icon">๐ค</span>ุงููุณุจ (ุงุณู ุงูุนุงุฆูุฉ)</label>
            <input class="finput" id="fi-last" type="text" placeholder="ุงูุนูุฑุงูู">
          </div>
          <div class="fgroup">
            <label class="flabel"><span class="flabel-icon">๐</span>ุฑูู ูุณุงุฑ</label>
            <input class="finput" id="fi-masar" type="text" placeholder="12345678">
          </div>
          <div class="fgroup">
            <label class="flabel"><span class="flabel-icon">๐ฑ</span>ุฑูู ุงููุงุชู</label>
            <input class="finput" id="fi-phone" type="tel" placeholder="06XXXXXXXX">
          </div>
          <div class="fgroup span2">
            <label class="flabel"><span class="flabel-icon">๐ง</span>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            <input class="finput" id="fi-email" type="email" placeholder="example@enset.ac.ma">
          </div>
        </div>

        <div class="info-note">
          โ๏ธ ุฅุฌุงุจุงุชู ุณุชูุฑุณูู ูุจุงุดุฑุฉ ุฅูู Google Sheets ุงูุฎุงุต ุจุงูุฃุณุชุงุฐ ูุชูุญููุธ ุชููุงุฆูุงู.<br>
          ุงูุงุฎุชุจุงุฑ: <strong>8 MCQ</strong> + <strong>5 ุตุญ/ุฎุทุฃ</strong> +
          <strong>2 ูุตู ููุงููู</strong> + <strong>3 ุฃุณุฆูุฉ ููุชูุญุฉ</strong>.
          ุงูุชุตุญูุญ ุงูููุฑู ูุธูุฑ ุจุนุฏ ูู ุฅุฌุงุจุฉ ููุถูุนูุฉ.
        </div>

        <button class="btn btn-primary btn-xl" onclick="startQuiz()">
          ๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ ุงูุขู
        </button>
      </div>
    </div>
  </div>
</div>

<!-- โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ  SCREEN 2 โ QUIZ            โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="s-quiz" class="scr">
  <div class="bar">
    <div class="bar-brand">
      <div class="bar-dot"></div>
      <span id="bar-name">ุงูุทุงูุจ</span>
    </div>
    <div class="bar-right">
      <span id="bar-score" style="font-size:.87rem;font-weight:800;color:var(--teal2)"></span>
    </div>
  </div>

  <div class="quiz-wrap">
    <div class="prog-row">
      <div class="prog-track">
        <div class="prog-fill" id="prog" style="width:5%"></div>
      </div>
      <div class="prog-info">
        <div class="prog-frac" id="pfrac">1 / 20</div>
        <div class="prog-pct"  id="ppct">5%</div>
      </div>
    </div>

    <div id="sec-pill"></div>
    <div id="qwrap"></div>

    <div class="qnav">
      <button class="btn btn-outline btn-md" id="btn-prev" onclick="prevQ()" style="display:none">โ ุงูุณุงุจู</button>
      <button class="btn btn-primary btn-md" id="btn-next" onclick="nextQ()" style="flex:1">ุงูุชุงูู โ</button>
    </div>
  </div>
</div>

<!-- โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ  SCREEN 3 โ RESULTS         โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="s-result" class="scr">
  <div class="bar">
    <div class="bar-brand"><div class="bar-dot"></div>ูุชุงุฆุฌ ุงูุชูููู</div>
    <div class="bar-right">
      <a href="../index.html" class="btn btn-ghost btn-sm">๐ ุงูุฑุฆูุณูุฉ</a>
    </div>
  </div>

  <div class="result-wrap">
    <div class="result-hero">
      <div class="score-ring" id="sring">
        <div class="score-big"   id="rnum">0</div>
        <div class="score-denom" id="rden">/ 17</div>
      </div>
      <div class="res-name" id="rname"></div>
      <div class="res-msg"  id="rmsg"></div>
    </div>

    <div class="stats4">
      <div class="stile">
        <div class="sn" id="st-c" style="color:var(--sage)">0</div>
        <div class="sl">โ ุตุญูุญุฉ</div>
      </div>
      <div class="stile r">
        <div class="sn" id="st-w" style="color:var(--rose)">0</div>
        <div class="sl">โ ุฎุงุทุฆุฉ</div>
      </div>
      <div class="stile g">
        <div class="sn" style="color:var(--gold)">3</div>
        <div class="sl">โ ููุชูุญุฉ</div>
      </div>
      <div class="stile p">
        <div class="sn" id="st-t" style="color:var(--plum)">โ</div>
        <div class="sl">โฑ ุฏูููุฉ</div>
      </div>
    </div>

    <div class="res-note">
      โ๏ธ ุชู ุฅุฑุณุงู ุฅุฌุงุจุงุชู ุฅูู Google Sheets ุงูุฎุงุต ุจุงูุฃุณุชุงุฐ.<br>
      <strong style="color:var(--plum)">ุงูุฃุณุฆูุฉ ุงูููุชูุญุฉ (3) ุชูุตุญููุญ ูุฏููุงู ูููุถุงู ููุงุทูุง ูุงุญูุงู.</strong>
    </div>

    <div class="res-btns">
      <button class="btn btn-outline btn-lg" onclick="resetApp()">๐ ูุญุงููุฉ ุฌุฏูุฏุฉ</button>
      <button class="btn btn-gold btn-lg" onclick="goTo('s-pass')">๐ ููุญุฉ ุงูุชุญูู</button>
    </div>
  </div>
</div>

<!-- โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ  SCREEN 4 โ PASSWORD        โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="s-pass" class="scr">
  <div class="bar">
    <div class="bar-brand"><div class="bar-dot"></div>ููุทูุฉ ุงูุฃุณุชุงุฐ</div>
    <button class="btn btn-ghost btn-sm" onclick="goTo('s-info')">โ ุฑุฌูุน</button>
  </div>
  <div class="pass-wrap">
    <div class="pass-card">
      <div class="pass-emoji">๐</div>
      <h2>ููุญุฉ ุชุญูู ุงูุฃุณุชุงุฐ</h2>
      <p>ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ูููุตูู ุฅูู ูุชุงุฆุฌ ุงูุทูุจุฉ ูุฅุฌุงุจุงุชูู</p>
      <input class="pass-inp" id="pass-inp" type="password" placeholder="โขโขโขโขโขโขโขโข"
             onkeydown="if(event.key==='Enter')tryLogin()">
      <div class="pass-hint">ูููุฉ ุงููุฑูุฑ ูุญุฏุฏุฉ ูู ููู <code>questions.js</code></div>
      <button class="btn btn-primary btn-xl" onclick="tryLogin()">ุฏุฎูู</button>
      <br><br>
      <button class="btn btn-outline btn-md" onclick="goTo('s-info')">โ ุงูุนูุฏุฉ ููุงุฎุชุจุงุฑ</button>
    </div>
  </div>
</div>

<!-- โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ  SCREEN 5 โ DASHBOARD       โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="s-dash" class="scr">
  <div class="dash-bar">
    <div>
      <h1>๐ ููุญุฉ ุชุญูู โ ุงูุชูููู ุงูุฃูู</h1>
      <p>ุฃุฎูุงููุงุช ูููุฉ ุงูุชุนููู ยท ุงูุจูุงูุงุช ุงููุญููุธุฉ ูุญููุงู</p>
    </div>
    <div class="dash-acts">
      <button class="btn btn-gold btn-sm"   onclick="doExport()">โฌ CSV</button>
      <button class="btn btn-danger btn-sm" onclick="doClear()">๐ ูุณุญ</button>
      <button class="btn btn-ghost btn-sm"  onclick="goTo('s-info')">โ ุฎุฑูุฌ</button>
    </div>
  </div>

  <div class="dash-body">
    <div class="kpi-row">
      <div class="kpi">
        <div class="kpi-ic">๐ฅ</div>
        <div><div class="kpi-n" id="kn-total">0</div><div class="kpi-l">ุฅุฌูุงูู ุงูุทูุจุฉ</div></div>
      </div>
      <div class="kpi kg">
        <div class="kpi-ic">๐</div>
        <div><div class="kpi-n" id="kn-avg">โ</div><div class="kpi-l">ูุชูุณุท ุงูููุทุฉ</div></div>
      </div>
      <div class="kpi ks">
        <div class="kpi-ic">โ</div>
        <div><div class="kpi-n" id="kn-pass">0</div><div class="kpi-l">ุชุฌุงูุฒูุง 50%</div></div>
      </div>
      <div class="kpi kp">
        <div class="kpi-ic">๐</div>
        <div><div class="kpi-n" id="kn-best">โ</div><div class="kpi-l">ุฃุนูู ููุทุฉ</div></div>
      </div>
    </div>

    <div class="dtabs">
      <button class="dtab on" onclick="showTab('t-res',this)">๐ ุงููุชุงุฆุฌ</button>
      <button class="dtab"    onclick="showTab('t-open',this)">โ ุงูุฃุณุฆูุฉ ุงูููุชูุญุฉ</button>
    </div>

    <div id="t-res">
      <div class="tbl-card">
        <div class="tbl-hd">
          <h3>ูุงุฆูุฉ ูุชุงุฆุฌ ุงูุทูุจุฉ</h3>
          <span id="tcount">0 ุทุงูุจ</span>
        </div>
        <div style="overflow-x:auto">
          <table>
            <thead><tr>
              <th>#</th><th>ุงูุงุณู ุงููุงูู</th><th>ุฑูู ูุณุงุฑ</th>
              <th>ุงููุงุชู</th><th>ุงูุจุฑูุฏ</th>
              <th>ุงูููุทุฉ</th><th>ุงููุณุจุฉ</th>
              <th>ุงูููุช</th><th>ุงูุชุงุฑูุฎ</th>
            </tr></thead>
            <tbody id="tbody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="t-open" style="display:none">
      <div class="tbl-card">
        <div class="tbl-hd">
          <h3>โ ุงูุฃุณุฆูุฉ ุงูููุชูุญุฉ โ ููุชุตุญูุญ ุงููุฏูู</h3>
          <span>ูุง ุชุฏุฎู ูู ุงูููุทุฉ ุงูุชููุงุฆูุฉ</span>
        </div>
        <div class="open-blocks" id="open-blocks"></div>
      </div>
    </div>
  </div>
</div>

<!-- โโ SENDING OVERLAY โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div class="sending-overlay" id="send-overlay">
  <div class="sending-box">
    <div id="send-spinner" class="sending-spinner"></div>
    <div id="send-ok" class="send-ok">
      <div class="ok-icon">โ</div>
    </div>
    <h3>ุฌุงุฑู ุฅุฑุณุงู ุงูุฅุฌุงุจุงุช</h3>
    <p>ูุชู ุญูุธ ุจูุงูุงุชู ูู Google Sheetsโฆ</p>
  </div>
</div>

<!-- โโ TOAST โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div id="toast"></div>

<!-- โโ SCRIPTS (order matters!) โโโโโโโโโโโโโโโโโโโโโ -->
<script src="questions.js"></script>
<script src="script.js"></script>

<!-- set dynamic titles from config -->
<script>
  document.title = `${EXAM_CONFIG.title} | ${EXAM_CONFIG.subject}`;
  document.getElementById('hero-eyebrow').textContent = EXAM_CONFIG.title;
  document.getElementById('hero-title').textContent   = EXAM_CONFIG.subject;
</script>

</body>
</html>
